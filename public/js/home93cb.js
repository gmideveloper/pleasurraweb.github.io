var _____WB$wombat$assign$function_____ = function(name) {return (self._wb_wombat && self._wb_wombat.local_init && self._wb_wombat.local_init(name)) || self[name]; };
if (!self.__WB_pmw) { self.__WB_pmw = function(obj) { this.__WB_source = obj; return this; } }
{
  let window = _____WB$wombat$assign$function_____("window");
  let self = _____WB$wombat$assign$function_____("self");
  let document = _____WB$wombat$assign$function_____("document");
  let location = _____WB$wombat$assign$function_____("location");
  let top = _____WB$wombat$assign$function_____("top");
  let parent = _____WB$wombat$assign$function_____("parent");
  let frames = _____WB$wombat$assign$function_____("frames");
  let opener = _____WB$wombat$assign$function_____("opener");

// Generated by CoffeeScript 1.10.0
(function() {
  $(document).ready(function() {
    var animating, didScroll, transition;
    animating = false;
    $('.page').not('#hero').hide();
    transition = function($page, $next, reverse) {
      if (reverse == null) {
        reverse = false;
      }
      if (!$next.length) {
        return;
      }
      if (animating) {
        return;
      }
      animating = true;
      if (reverse) {
        $next.show().addClass('animate-in-rev');
        $page.addClass('animate-out-rev');
      } else {
        $next.show().addClass('animate-in');
        $page.addClass('animate-out');
      }
      $page.one('animationend', function(evt) {
        animating = false;
        return $page.removeClass('animate-out animate-out-rev').hide();
      });
      return $next.one('animationend', function(evt) {
        animating = false;
        return $next.removeClass('animate-in animate-in-rev');
      });
    };
    didScroll = false;
    $.repeat(500, function() {
      return didScroll = false;
    });
    $(window).on('mousewheel', function(evt) {
      var $next, $page;
      if (didScroll) {
        return;
      }
      didScroll = true;
      $page = $('.page:visible');
      if (evt.originalEvent.wheelDelta / 120 > 0) {
        $next = $page.prev('.page');
        return transition($page, $next, true);
      } else {
        $next = $page.next('.page');
        return transition($page, $next);
      }
    });
    $(window).on('swipeup', function(evt) {
      var $page;
      $page = $('.page:visible');
      return transition($page, $page.next('.page'));
    });
    return $(window).on('swipedown', function(evt) {
      var $page;
      $page = $('.page:visible');
      return transition($page, $page.prev('.page'), true);
    });
  });

}).call(this);


}
